\date{2025-04-15}
\title{Properties of the canonical pushouts}
\author{samueltoth}
\taxon{module}
\meta{module}{\startverb core.CanonicalPushouts \stopverb}

\import{stt-macros}

% ```agda
\agda{
module core.CanonicalPushouts where

open import foundations.Prelude
open import ufAxioms
open import ergonomics.Extensionality
}
% ```


\subtree[stt-002L]{
\taxon{theorem}
\title{Canonical pushouts are pushouts}

% ```agda
\agda{
Pushout-is-pushoutÏ‰ : âˆ€ {ğ“¤ ğ“¥ ğ“¦} {A : Type ğ“¤} {B : Type ğ“¥}
                       {C : Type ğ“¦} {f : A â†’ B} {g : A â†’ C}
                     â†’ is-pushoutÏ‰ (mk-span _ f g) pushout
Pushout-is-pushoutÏ‰ {f = f} {g} = is-equivâ†qiso iso where
  iso : quasi-iso (cocone-map (mk-span _ f g) pushout)
  iso .fst = pushout-rec
  iso .snd .fst f = ext! (pushout-ind _ Î» where
    .CoconeD.p _ â†’ refl
    .CoconeD.q _ â†’ refl
    .CoconeD.filler a â†’ IdP-funcâ†Square (glue a) refl refl
                         (Square-degen-hor _ _ (pushout-rec-apÎ² a)))
  iso .snd .snd (mk-cocone p q filler)
    = ap (mk-cocone p q) (ext! pushout-rec-apÎ²)


pushout-rec-is-equiv : âˆ€ {ğ“¤ ğ“¥ ğ“¦} {A : Type ğ“¤} {B : Type ğ“¥}
                       {C : Type ğ“¦} {f : A â†’ B} {g : A â†’ C}
                       {ğ“ } {Q : Type ğ“ }
                      â†’ is-equiv (pushout-rec {f = f} {g} {Q = Q})
pushout-rec-is-equiv {Q = Q} = is-equivâ»Â¹ (Pushout-is-pushoutÏ‰)
}
% ```

}

\subtree[stt-004G]{
\taxon{definition}
\date{2025-05-17}
\title{The cogap map}
\meta{defines}{\startverb ["cogap"] \stopverb}

\p{
In paralel to pullbacks, we sometimes call pushout-rec the cogap map.
Given a cocone #{C} under a span #{S}, we can define a the
cogap-map from the pushout of #{S} and the apex of #{C}.
}

% ```agda
\agda{
cogap : âˆ€ {ğ“¤ ğ“¥ ğ“¦} {A : Type ğ“¤} {B : Type ğ“¥} {C : Type ğ“¦}
        {f : A â†’ B} {g : A â†’ C}
        {ğ“œ} {D : Type ğ“œ}
      â†’ Cocone (mk-span A f g) D
      â†’ Pushout f g â†’ D
cogap = pushout-rec
}
% ```
}

\subtree[stt-005M]{
  \taxon{definition}
  \title{The codiagonal map}
  \p{Given a map #{f : B \to C}, we can define the map #{\Nabla_f : B +^A B \to C}
  called the codiagonal map.}

%```agda
\agda{
âˆ‡ : âˆ€ {ğ“¤ ğ“¥} {A : Type ğ“¤} {B : Type ğ“¥}
      (f : A â†’ B)
    â†’ Pushout f f â†’ B
âˆ‡ f = pushout-rec (mk-cocone id id ~refl)
}
%```
}
