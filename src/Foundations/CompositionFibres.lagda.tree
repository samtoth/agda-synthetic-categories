\date{2025-06-02}
\author{samueltoth}
\title{Fibres of maps given by pre/post-composition}
\taxon{Module}

\import{stt-macros}

%```agda
\agda{
open import Foundations.FunExt

module Foundations.CompositionFibres (FE : FunExt-global) where

open import Foundations.Universes
open import Foundations.QuasiIsomorphism
open import Foundations.CoherentIsomorphism
open import Foundations.Functions
open import Foundations.Sigma
open import Foundations.SigmaPath
open import Foundations.Identity

open WithFunExt-global FE
}
%```

\subtree[stt-004P]{
\title{Fibres of the postcomposition map}
\taxon{Theorem}

%```agda
\agda{
fibre-postcompâ‰ƒ
  : âˆ€ {ğ“¤ ğ“¥ ğ“¦} {A : Type ğ“¤} {B : Type ğ“¥}
      {C : Type ğ“¦} (f : A â†’ B) (h : C â†’ B)
    â†’ fibre (postcomp C f) h â‰ƒ  Î  C (fibre f âˆ˜ h)
fibre-postcompâ‰ƒ f h = mkâ‰ƒ fwd (is-equivâ†qiso fwd-qiso) where
  fwd : fibre (postcomp _ f) h â†’ Î  _ (fibre f âˆ˜ h)
  fwd (g , p) c = (g c , happly p c)

  fwd-qiso : quasi-iso fwd
  fwd-qiso .fst g = (fst âˆ˜ g , funextâ†’ (snd âˆ˜ g))
  fwd-qiso .snd .fst (h , p) = Î£-pathâ†’ (refl , (_â‰ƒ_.Î· funextâ‰ƒ p))
  fwd-qiso .snd .snd g
    = funextâ†’ (Î» a â†’ Î£-pathâ†’ ( refl
                             , happly (_â‰ƒ_.Îµ funextâ‰ƒ (snd âˆ˜ g)) a)
                             )
}
%```
}
