\date{2025-04-22}
\title{Pullbacks}
\author{samueltoth}
\taxon{module}
\meta{module}{\startverb foundations.Pullbacks \stopverb}

\import{stt-macros}

% ```agda
\agda{
module foundations.Pullbacks where

open import foundations.Universes
open import foundations.Span
open import foundations.Functions
open import foundations.Homotopy
open import foundations.CoherentIsomorphism
}
% ```

\subtree[stt-003I]{
\taxon{defintition}
\title{is-pullback}
\meta{defines}{\startverb ["cone-map", "is-pullback", "is-pullbackÏ‰"] \stopverb}

\p{
  Given a cospan of types #{B \xrightarrow{f} A \xleftarrow{g} C}, we say that a cone
  over the cospan is a pushout when it is the \em{universal} such cone. Spelling this
  out as a diagram:
}

  \quiver{
  \begin{tikzcd}
        Q \\
	& D && C \\
	\\
	& B && A
	\arrow[dashed, from=1-1, to=2-2]
	\arrow["p", bend left, from=1-1, to=2-4]
	\arrow["q"', bend right, from=1-1, to=4-2]
	\arrow[from=2-2, to=2-4]
	\arrow[from=2-2, to=4-2]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-2, to=4-4]
	\arrow["g", from=2-4, to=4-4]
	\arrow["f"', from=4-2, to=4-4]
  \end{tikzcd}
  }

  \p{Given a particular span #{S}, #{S}-cone with centre #{D} and any other type #{Q},
     we can define a map #{(Q \to D) \to \textrm{Cone}_S(Q)} by post-composition.}

% ```agda
\agda{
cone-map : âˆ€ {ğ“¤ ğ“¥ ğ“¦ ğ“› ğ“ } (S : Cospan ğ“¤ ğ“¥ ğ“¦)
           â†’ {D : Type ğ“›} â†’ (C : Cone S D)
           â†’ {Q : Type ğ“ } â†’ (Q â†’ D)
           â†’ Cone S Q
cone-map S C f = mk-cone (i âˆ˜ f) (j âˆ˜ f) (filler â–¸ f) where open Cone C
}
% ```

% ```agda
\agda{
is-pullback : âˆ€ {ğ“¤} (S : Cospan ğ“¤ ğ“¤ ğ“¤)
           â†’ {D : Type ğ“¤} â†’ (C : Cone S D)
           â†’  Type (lsuc ğ“¤)
is-pullback {ğ“¤} S C = âˆ€ {Q : Type ğ“¤} â†’ is-equiv (cone-map S C {Q})

is-pullbackÏ‰ : âˆ€ {ğ“¤ ğ“¥ ğ“¦ ğ“›} (S : Cospan ğ“¤ ğ“¥ ğ“¦)
               â†’ {D : Type ğ“›} â†’ (C : Cone S D)
               â†’ TypeÏ‰
is-pullbackÏ‰ S C = âˆ€ {ğ“ } (Q : Type ğ“ ) â†’ is-equiv (cone-map S C {Q})
}
% ```
}



