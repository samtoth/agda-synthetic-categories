\date{2025-07-30}
\title{Canonical Sequential Colimits}
\taxon{module}
\meta{module}{Core.CanonicalSeqColims}
\author{samueltoth}
\import{stt-macros}

%```agda
\agda{
module Core.CanonicalSeqColims where

open import Foundations.Prelude
open import ufAxioms
open import Core.CanonicalPushouts
open import Core.Coequalisers
}
%```

\subtree[stt-008B]{
\title{Canonical Sequential Colimits}
\taxon{construction}

%```agda
\agda{
Seq-colimit : âˆ€ {ğ“¤} â†’ Incr-seq ğ“¤ â†’ Type ğ“¤
Seq-colimit S = Coeq id incrÎ£ where open Incr-seq S

seq-colimit : âˆ€ {ğ“¤} (S : Incr-seq ğ“¤) â†’ Cocone-seq S (Seq-colimit S)
seq-colimit S = mk-cocone-seq (Î» {n} a â†’ Î¹â‚‚ (n , a))
                              Î» {n} a â†’ sym (glue (left (n , a)))
                                      âˆ™ glue (right (n , a))
}
%```
}

\subtree[stt-008C]{
\title{Cocones of canonical sequential colimits}
\taxon{lemma}

\p{Cocones over the span in \ref{stt-008B} defining the canonical
sequential colimits are equivalent to [sequential cocones](stt-0088)}

\proof{
\p{By calculation:}
##{
\begin{align*}
\rm{Cocone}(\rm{Colim}(A)) \simeq&
  \Sigma_{f : Q^{\tilde{A}}} \Sigma_{g : Q^{\tilde{A}}} (f \sim g \times
    \Pi_{a : \tilde{A}} f(a) = g(\rm{suc}(a))) \\
 \simeq& \Sigma_{f : Q^{\tilde{A}}} (f \sim f\ \rm{suc}) \\
 \simeq& \rm{Cocone}_{\rm{seq}}(\rm{Colim}(A))
\end{align*}
}
}

%```agda
\agda{
seq-coconeâ‰ƒfork : âˆ€ {ğ“¤ ğ“ } {S : Incr-seq ğ“¤} {Q : Type ğ“ }
                  â†’ Fork id (Incr-seq.incrÎ£ S) Q
                  â‰ƒ Cocone-seq S Q
seq-coconeâ‰ƒfork {_} {_} {S} {Q}
  = mkâ‰ƒ map (is-equivâ†qiso map-qiso) where
    open Incr-seq S
    Ãƒ = Î£ â„• Point

    map : Fork id incrÎ£ Q â†’ Cocone-seq S Q
    map (p , H) = mk-cocone-seq (Î» a â†’ p (_ , a)) Î» a â†’ H (_ , a)

    map-qiso : quasi-iso map
    map-qiso .fst (mk-cocone-seq Î¹ comm)
      = (Î» (_ , a) â†’ Î¹ a) , (Î» (_ , a) â†’ comm a)
    map-qiso .snd .fst _ = refl
    map-qiso .snd .snd _ = refl

seq-colim-is-colim :  âˆ€ {ğ“¤} {S : Incr-seq ğ“¤}
                      â†’ is-seq-colim S (seq-colimit S)
seq-colim-is-colim Q = is-equiv-âˆ˜ (seq-coconeâ‰ƒfork ._â‰ƒ_.has-is-eqv)
                                  coeq-is-coeq
}
%```
}
