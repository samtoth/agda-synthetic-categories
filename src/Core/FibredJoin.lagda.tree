\date{2025-07-30}
\title{Fibred joins}
\taxon{module}
\meta{module}{Core.FibredJoin}
\author{samueltoth}
\import{stt-macros}

%```agda
\agda{
module Core.FibredJoin where

open import Foundations.Prelude
open import ufAxioms
}
%```

\subtree[stt-0084]{
\title{The Fibred Join}
\taxon{definition}

\p{Given a cospan #{A \xrightarrow{f} B \xleftarrow{g} C}, and a
particular choice of pullback over this span #{A \times'_B C}, we can
form the fibred join #{A *^B C \to B} as the following colimit:}

\quiver{
\begin{tikzcd}
	{A \times'_B C} &&& A \\
	\\
	&& {A *^BC} \\
	C &&& B
	\arrow[from=1-1, to=1-4]
	\arrow[from=1-1, to=4-1]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=4-4]
	\arrow[from=1-4, to=3-3]
	\arrow["f", from=1-4, to=4-4]
	\arrow["\lrcorner"{anchor=center, pos=0.125, rotate=180}, draw=none, from=3-3, to=1-1]
	\arrow[dashed, from=3-3, to=4-4]
	\arrow[from=4-1, to=3-3]
	\arrow["g"', from=4-1, to=4-4]
\end{tikzcd}
}

%```agda
\agda{
module _ {ğ“¤ ğ“¥ ğ“¦ ğ“œ} {A : Type ğ“¤} {B : Type ğ“¥} {C : Type ğ“¦}
         (f : A â†’ B) (g : C â†’ B) {PB : Type ğ“œ}
         (pb : Cone (mk-cospan B f g) PB)
         (PB-is-pb : is-pullbackÏ‰ (mk-cospan _ f g) pb) where
  open Cone pb renaming (i to Ï€â‚ ; j to Ï€â‚‚)

  Fibre-join : Type (ğ“¤ âŠ” ğ“¦ âŠ” ğ“œ)
  Fibre-join = Pushout Ï€â‚ Ï€â‚‚

  Fibre-join-Ï€ : Fibre-join â†’ B
  Fibre-join-Ï€ = pushout-rec (Coconeâ†Cone (_ , PB , pb) .snd .snd)
}
%```
}
