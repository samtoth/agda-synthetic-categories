\date{2025-02-21}
\title{Quasi Isomorphisms}

\import{stt-macros}

\p{Naively, an isomorphism is a function with a two-sided inverse. We can encode this directly in HoTT, but there is an issue;
being an isomorphism in this way is \em{not a property} of a type, but instead it is extra structure. This is in contrast to the
(many equivalent) notions of equivalence.}

% ```agda
\agda{
module foundations.QuasiIsomorphism where

open import foundations.universe
open import foundations.Functions
open import foundations.FunctionInverses
open import foundations.Singleton
open import foundations.Sigma
open import foundations.Identity
}
% ```

\subtree{
  \taxon{definition}
  \title{Quasi-isomorphism}
  \p{We want to reserve the word isomorphism for the coherent kind in [[CoherentIsomorphism]], and so here we define the naive kind of
  isomorphism to be called a quasi-isomorphism.}


% ```agda
\agda{
is-quasi-iso : âˆ€ {ğ“¤ ğ“¥} {A : Type ğ“¤} {B : Type ğ“¥} â†’ (f : A â†’ B) â†’ Type (ğ“¤ âŠ” ğ“¥)
is-quasi-iso f = Î£ _ Î» g â†’ section-witness f g Ã— retract-witness f g

infix 20 _â‰…_
record _â‰…_ {ğ“¤ ğ“¥} (A : Type ğ“¤) (B : Type ğ“¥) : Type (ğ“¤ âŠ” ğ“¥) where
  constructor mk-iso
  field
    fwd : A â†’ B
    fwd-iso : is-quasi-iso fwd 

  bwd : B â†’ A
  bwd = fwd-iso .fst

  section-fwd : section fwd
  section-fwd = bwd , fwd-iso .snd .fst 

  retract-fwd : retract fwd
  retract-fwd = bwd , fwd-iso .snd .snd

  section-bwd : section bwd
  section-bwd = fwd , retractâ†’section {g = bwd} (retract-fwd .snd)

  retract-bwd : retract bwd
  retract-bwd = fwd , sectionâ†’retract {g = fwd} (section-fwd .snd)


infix 19 _â‰…â»Â¹
_â‰…â»Â¹ : âˆ€ {ğ“¤ ğ“¥} {A : Type ğ“¤} {B : Type ğ“¥} â†’ A â‰… B â†’ B â‰… A
_â‰…â»Â¹ iso = mk-iso bwd (fwd , section-bwd .snd , retract-bwd .snd) where
  open _â‰…_ iso

}
% ```
}

\subtree[stt-000J]{
\taxon{theorem}
\title{Isomorphisms are equivalences}

% ```agda
\agda{

}
% ```
}
