\title{The category of spaces}
\author{samueltoth}
\date{2026-02-13}
\taxon{module}
\import{stt-macros}


\transclude{stt-00AB}

%```agda
\agda{
open import Foundations.Prelude
open import Algebra.Lattice

module Synthetic.Categories.Spaces
  {@â™­ ğ“˜} (@â™­ Î”Â¹ : Type ğ“˜) (@â™­ I : Lattice Î”Â¹) (@â™­ I-distr : is-distributive I)
  where

open import ufAxioms

open Lattice I renaming (0l to i0; 1l to i1)
import Algebra.Lattice.Instances.Polynomial as Poly
open Poly  hiding (L[x]; Î”Â²)
open is-distributive I-distr

private
  Î”Â² = Poly.Î”Â² I
  I[x] = Poly.L[x] I

open import Modalities.Subuniverses
open import Modalities.GlobalSubuniverses
open import Modalities.Instances.Localisation
open import Modalities.Flat.Flat renaming (Îµ to Îµâ™­)

open import Core.Orthogonal
open import Core.OrthogonalClosure

open import Synthetic.Hom Î”Â¹ i0 i1
open import Synthetic.Cubes Î”Â¹ i0 i1
open import Synthetic.Categories.Covariant Î”Â¹ I I-distr
open import Synthetic.Tiny Î”Â¹
}
%```

\subtree[stt-00AS]{
\title{There is a universe of amazingly covariant types}
\taxon{Cosntruction}

\p{Assuming that the interval is [tiny](Synthetic.Tiny), there is a universe of
\em{amazingly covariant types}, which weakly classify the left fibrations.
We denote it #{\mathcal{s}}.}

\proof{
\p{Since being covariant is equivalent to being a left fibration, it is stable
under base change, and so is a [relative notion of fibrancy](stt-00AO). By the machinery
developed for [amazing right adjoints](stt-00AA) we can construct a universe.
}
}

%```agda
\agda{
is-covariant-is-relative : is-relative is-covariant
is-covariant-is-relative {A = A} P = (fwd , bwd) where
  fwd : is-covariant P â†’ (x : Î”Â¹ â†’ A) â†’ is-covariant (P âˆ˜ x)
  fwd cov f h = cov (f âˆ˜ h)

  bwd : ((x : Î”Â¹ â†’ A) â†’ is-covariant (P âˆ˜ x)) â†’ is-covariant P
  bwd cov h xâ‚€ = cov h id xâ‚€

open AFib is-covariant is-covariant-is-relative public
  renaming (is-afib to is-acov;
            UFib to Space;
            UFibâˆ™ to Spaceâˆ™;
            F-Ï€-is-fib to Space-Ï€-is-covariant)
}
%```
}

\subtree[stt-00AU]{
\title{The objects of #{\mathcal{S}} are groupoids}
\taxon{Theorem}

\p{If #{A :^\flat \UU} is a groupoid, then #{A} is amazing covariant and so
factors through #{\mathcal{S}}.}

%```agda
\agda{
groupoids-in-Space : âˆ€ {@â™­ ğ“¤} (@â™­ A : Type ğ“¤) â†’ @â™­ is-groupoid A â†’ is-acov A
groupoids-in-Space A gpd
  = Îµâ™­ (liftFib .fst
         (modâ™­ (is-covariantâ‡”is-left-fibration
                 (Î» _ â†’ A) .snd
                   (is-orthogonalâ‡”orthogonal-! .snd
                     (is-leftâ†is-groupoid
                       (Null-globally-Î£-closed
                         (Grpd.ğŸ™âˆˆS)
                         (Î» _ â†’ gpd)) tt))))) tt
}
%```
}


\subtree[stt-00AT]{
\title{#{\mathcal{S}} is directed univalent}
\taxon{Theorem}

\p{We show that #{\mathcal{S}} is directed univalent. That is, arrows in
#{\mathcal{S}} correspond exactly to pairs of groupoids, together with a function
between them.}

%```agda
\agda{
tr-ğ“¢ : âˆ€ {@â™­ ğ“¤} â†’ (f : Î”Â¹ â†’ Space ğ“¤) â†’ fst (f i0) â†’ fst (f i1)
tr-ğ“¢ = tr-cov {P = fst} Space-Ï€-is-covariant

duaâ†’ : âˆ€ {@â™­ ğ“¤} â†’ (Î”Â¹ â†’ Space ğ“¤)
     â†’ Î£[ A âˆ¶ Space ğ“¤ ] Î£[ B âˆ¶ Space ğ“¤ ] (fst A â†’ fst B)
duaâ†’ h = (h i0 , h i1 , tr-ğ“¢ h)
}
%```


\remark{It remains to be shown that this map is an equivalence.}
}
