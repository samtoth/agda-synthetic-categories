\date{2025-06-04}
\author{samultoth}
\taxon{module}
\meta{module}{\startverb modalities.Factorisation \stopverb}
\import{stt-macros}
\title{Orthogonal Factorisation Systems}

%```agda
\agda{
module modalities.Factorisation where

open import ufAxioms
open import foundations.Prelude
}
%```

\subtree[stt-004W]{
\title{Wide subcategory}
\taxon{definition}
\p{We define the type of wide subcategories of #{\UU} - that is subtypes
   of all arrows which are closed under composition and identity.}

%```agda
\agda{
record Wide-subcat ğ“¤ ğ“¥ : Type (lsuc (ğ“¤ âŠ” ğ“¥)) where
  field
    K : âˆ€ {A B : Type ğ“¤} â†’ Subtype (A â†’ B) ğ“¥
    K-id : âˆ€ {A : Type ğ“¤} â†’ id {A = A} âˆˆ K
    _Kâˆ˜_ : âˆ€ {A B C : Type ğ“¤} {g : B â†’ C} {f : A â†’ B}
           â†’ g âˆˆ K â†’ f âˆˆ K â†’ g âˆ˜ f âˆˆ K

}
%```
}

\subtree[stt-004X]{
\title{Factorisation}
\taxon{definition}

%```agda
\agda{
record Factorisation {ğ“¤ ğ“¥} (LL RR : Wide-subcat ğ“¤ ğ“¥)
                     {A B : Type ğ“¤} (f : A â†’ B) : Type (lsuc ğ“¤ âŠ” ğ“¥) where
  open Wide-subcat LL renaming (K to L) using ()
  open Wide-subcat RR renaming (K to R) using ()
  field
    Im : Type ğ“¤
    l : A â†’ Im
    r : Im â†’ B
    lâˆˆL : l âˆˆ L
    râˆˆR : r âˆˆ R

    comm : r âˆ˜ l ï¼ f
}
%```
}

\subtree[stt-004V]{
\title{Orthogonal Factorisation System}
\taxon{definition}

%```agda
\agda{
record Orthogonal-factorisation ğ“¤ ğ“¥ : Type (lsuc (ğ“¤ âŠ” ğ“¥)) where
  field
    Ll Rr : Wide-subcat ğ“¤ ğ“¥
  open Wide-subcat Ll renaming (K to L; K-id to L-id; _Kâˆ˜_ to _Lâˆ˜_)
  open Wide-subcat Rr renaming (K to R; K-id to R-id; _Kâˆ˜_ to _Râˆ˜_)

  field
    factorisation : âˆ€ {A B : Type ğ“¤} (f : A â†’ B)
                    â†’ is-singleton (Factorisation Ll Rr f)
}
%```
}
