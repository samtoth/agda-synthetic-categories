\date{2025-07-30}
\title{Fibred joins}
\taxon{module}
\meta{module}{Core.FibredJoin}
\author{samueltoth}
\import{stt-macros}

%```agda
\agda{
module Core.FibredJoin where

open import Foundations.Prelude
open import ufAxioms
}
%```

\subtree[stt-0084]{
\title{The Fibred Join}
\taxon{definition}

\p{Given a cospan #{A \xrightarrow{f} B \xleftarrow{g} C}, and a
particular choice of pullback over this span #{A \times'_B C}, we can
form the fibred join #{A *^B C \to B} as the following colimit:}

\quiver{
\begin{tikzcd}
	{A \times'_B C} &&& A \\
	\\
	&& {A *^BC} \\
	C &&& B
	\arrow[from=1-1, to=1-4]
	\arrow[from=1-1, to=4-1]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=4-4]
	\arrow[from=1-4, to=3-3]
	\arrow["f", from=1-4, to=4-4]
	\arrow["\lrcorner"{anchor=center, pos=0.125, rotate=180}, draw=none, from=3-3, to=1-1]
	\arrow[dashed, from=3-3, to=4-4]
	\arrow[from=4-1, to=3-3]
	\arrow["g"', from=4-1, to=4-4]
\end{tikzcd}
}

%```agda
\agda{
module _ {𝓤 𝓥 𝓦 𝓜} {A : Type 𝓤} {B : Type 𝓥} {C : Type 𝓦}
         (f : A → B) (g : C → B) {PB : Type 𝓜}
         (pb : Cone (mk-cospan B f g) PB)
         (PB-is-pb : is-pullbackω (mk-cospan _ f g) pb) where
  open Cone pb renaming (i to π₁ ; j to π₂)

  Fibre-join : Type (𝓤 ⊔ 𝓦 ⊔ 𝓜)
  Fibre-join = Pushout π₁ π₂

  Fibre-join-π : Fibre-join → B
  Fibre-join-π = pushout-rec (Cocone←Cone (_ , PB , pb) .snd .snd)
}
%```
}
