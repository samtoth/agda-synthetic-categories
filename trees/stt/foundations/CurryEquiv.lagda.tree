\title{Currying and uncurrying functions gives an equivalence}
\author{samueltoth}
\date{2025-03-12}


\import{stt-macros}


% ```agda
\agda{
module foundations.CurryEquiv where

open import foundations.universe
open import foundations.Sigma
open import foundations.CoherentIsomorphism
open import foundations.QuasiIsomorphism
open import foundations.FunctionInverses
open import foundations.Identity
open import foundations.Functions

module _ {ğ“¤ ğ“¥ ğ“¦} {A : Type ğ“¤} {B : A â†’ Type ğ“¥} {C : (a : A) â†’ B a â†’ Type ğ“¦} where
  curry : ((a : Î£[ x âˆ¶ A ] B x) â†’ C (a .fst) (a .snd)) â†’ ((x : A) â†’ (y : B x) â†’ C x y)
  curry f a b = f (a , b)      

  uncurry :  ((x : A) â†’ (y : B x) â†’ C x y) â†’ ((a : Î£[ x âˆ¶ A ] B x) â†’ C (a .fst) (a .snd))
  uncurry f (a , b) = f a b

  curry-qiso : quasi-iso curry
  curry-qiso .fst = uncurry
  curry-qiso .snd .fst a = refl
  curry-qiso .snd .snd a = refl

  curry-is-equiv : is-equiv curry
  curry-is-equiv = is-equivâ†qiso curry-qiso
  
  curryâ‰ƒ : ((a : Î£[ x âˆ¶ A ] B x) â†’ C (a .fst) (a .snd)) â‰ƒ ((x : A) â†’ (y : B x) â†’ C x y)
  curryâ‰ƒ = curry , curry-is-equiv

  uncurry-qiso : quasi-iso uncurry
  uncurry-qiso .fst = curry
  uncurry-qiso .snd .fst a = refl
  uncurry-qiso .snd .snd a = refl

  uncurry-is-equiv : is-equiv uncurry
  uncurry-is-equiv = is-equivâ†qiso uncurry-qiso

  uncurryâ‰ƒ : ((x : A) â†’ (y : B x) â†’ C x y) â‰ƒ ((a : Î£[ x âˆ¶ A ] B x) â†’ C (a .fst) (a .snd))
  uncurryâ‰ƒ = uncurry , uncurry-is-equiv
}
% ```
