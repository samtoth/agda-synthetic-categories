\date{2025-04-18}
\title{Joins}
\author{samueltoth}
\taxon{module}
\meta{module}{\startverb Core.Join \stopverb}

\import{stt-macros}


% ```agda
\agda{
module Core.Join where

open import Foundations.Prelude
open import ufAxioms
open import Core.Suspensions
open import Ergonomics.Universal
open import Ergonomics.PushoutUniv
open import Ergonomics.Auto
open import Ergonomics.Extensionality

}
% ```


\subtree[stt-002S]{
\taxon{definition}
\title{Joins of types}
\meta{defines}{\startverb ["_*_"] \stopverb}

\p{The join of types #{A} and #{B}, written #{A * B} is
the pushout of the span
#{A \xleftarrow{\pi_1} A \times B \xrightarrow{pi_2} B}}

\quiver{
\begin{tikzcd}
	{A \times B} && A \\
	\\
	B && {A * B}
	\arrow[from=1-1, to=1-3]
	\arrow[from=1-1, to=3-1]
	\arrow[from=1-3, to=3-3]
	\arrow[from=3-1, to=3-3]
	\arrow["\lrcorner"{anchor=center, pos=0.125, rotate=180}, draw=none, from=3-3, to=1-1]
\end{tikzcd}
}

% ```agda
\agda{
_*_ : âˆ€ {ğ“¤ ğ“¥} â†’ Type ğ“¤ â†’ Type ğ“¥ â†’ Type (ğ“¤ âŠ” ğ“¥)
A * B = Pushout {A = A Ã— B} fst snd
}
% ```

}


\subtree[stt-002V]{
\title{Singleton joins}

\p{The join of a singleton with any type is also a singleton}

% ```agda
\agda{
-- *-single : âˆ€ {ğ“¤ ğ“¥} {A : Type ğ“¤} {B : Type ğ“¥}
--            â†’ is-singleton A â†’ is-singleton (A * B)
-- *-single sa = {!!}

-- *-single' : âˆ€ {ğ“¤ ğ“¥} {A : Type ğ“¤} {B : Type ğ“¥}
--             â†’ is-singleton B â†’ is-singleton (A * B)
-- *-single' sb = {!!}
}
% ```
}

\subtree[stt-002W]{
\title{Joins of propositions}

% ```agda
\agda{
-- *-prop-disj : âˆ€ {ğ“¤ ğ“¥ ğ“¦} {A : Type ğ“¤} {B : Type ğ“¥}
--               {Q : Type ğ“¦}
--            â†’ is-prop A â†’ is-prop B
--            â†’ is-prop Q
--            â†’ (A * B â†’ Q) â†’ (A â†’ Q) Ã— (B â†’ Q)
-- *-prop-disj a b q f = (f âˆ˜ Î¹â‚ , f âˆ˜ Î¹â‚‚)

-- *-prop-disjâ‰ƒ : âˆ€ {ğ“¤ ğ“¥ ğ“¦}
--               {A : Type ğ“¤} {B : Type ğ“¥} {Q : Type ğ“¦}
--            â†’ (pa : is-prop A) â†’ (pb : is-prop B)
--            â†’ (pq : is-prop Q)
--            â†’ (A * B â†’ Q) â‰ƒ ((A â†’ Q) Ã— (B â†’ Q))
-- *-prop-disjâ‰ƒ {A = A} {B} {Q} pa pb pq
--  = (A * B â†’ Q)                        â‰ƒâŸ¨ Univâ‰ƒ' auto! âŸ©
--    Coconeáµ˜ Q                          â‰ƒâŸ¨ {!!} âŸ©
--    Î£[ f âˆ¶ (A â†’ Q) ]
--      Î£[ g âˆ¶ (B â†’ Q) ]
--       ((a : A) â†’ (b : B) â†’ f a ï¼ g b) â‰ƒâŸ¨ Î£-ap-â‰ƒ (Î» a
--                                            â†’ Î£-singleton (Î» x
--                                            â†’ Singleton-Î  Î» b
--                                            â†’ Singleton-Î  (Î» c
--                                            â†’ ï¼-singletonâ†is-prop pq _ _))) âŸ©
--    ((A â†’ Q) Ã— (B â†’ Q)) â‰ƒâˆ

-- *-prop-rec : âˆ€ {ğ“¤ ğ“¥ ğ“¦}
--               {A : Type ğ“¤} {B : Type ğ“¥} {Q : Type ğ“¦}
--            â†’ (pa : is-prop A) â†’ (pb : is-prop B)
--            â†’ (pq : is-prop Q)
--            â†’  (A â†’ Q) â†’ (B â†’ Q) â†’ (A * B â†’ Q)
-- *-prop-rec pa pb pq f g = _â‰ƒ_.bwd (*-prop-disjâ‰ƒ pa pb pq) (f , g) 
-- {-#Â NOINLINE *-prop-rec #-}

-- *-is-prop : âˆ€ {ğ“¤ ğ“¥} {A : Type ğ“¤} {B : Type ğ“¥}
--             â†’ is-prop A â†’ is-prop B
--             â†’ is-prop (A * B)
-- *-is-prop aprop bprop = is-propâ†is-single-if-inhabited
--   (*-prop-rec aprop bprop is-singleton-is-prop
--     (Î» a â†’ *-single (mk-singl a (aprop a)))
--     (Î» b â†’ *-single' (mk-singl b (bprop b))))
}
% ```

}
